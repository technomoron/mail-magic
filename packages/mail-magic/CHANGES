Version 1.0.15 (2026-02-01)

- Made the optional admin UI/API opt-in via `ADMIN_ENABLED`, delegating admin
  registration to the `@technomoron/mail-magic-admin` package with an
  override path via `ADMIN_APP_PATH`.
- Serve public assets directly from `ASSET_ROUTE` (outside the API base path)
  and allow asset URLs to use `ASSET_PUBLIC_BASE` when rendering templates.
- Added coverage for asset base URL overrides in the test suite.

Version 1.0.14 (2026-02-01)

- Consolidated the API domain/user assertion into a shared helper to keep
  validation logic consistent across modules.

Version 1.0.13 (2026-01-31)

- Fixed the per-package release script name and tag format used to trigger
  CI releases; no runtime changes.

Version 1.0.12 (2026-01-31)

- Removed the hard dependency on `@technomoron/mail-magic-admin` so installs
  are fully standalone unless the admin UI is explicitly added.

Version 1.0.11 (2026-01-31)

- Scoped the client package to `@technomoron/mail-magic-client` and refreshed
  documentation to match.
- Added root build shortcuts for server/client/admin packages and aligned the
  release tag pattern for the client workflow.
- Added a TypeScript-based CLI bin so global installs expose `mail-magic`.

Version 1.0.10 (2026-01-31)

- Added authenticated asset uploads via `POST /api/v1/assets`, supporting
  domain and template-scoped targets with path validation and ownership checks.
- Mount optional admin UI at `/` when the admin package is installed, while
  leaving API and asset routes unchanged.
- Expanded automated testing with new Vitest unit/integration coverage, an
  SMTP harness, and fixture-backed template/asset scenarios.
- Updated the client library/CLI to support transactional/form uploads,
  attachments, and config-driven bulk pushes.

Version 1.0.9 (2026-01-02)

- Default CONFIG_PATH to ./data and document the data-rooted layout, including
  per-domain uploads.
- Allow UPLOAD_PATH to include {domain}, staging incoming uploads under
  <CONFIG_PATH>/_uploads before relocating to <CONFIG_PATH>/<domain>/uploads
  for transactional and form submissions.

Version 1.0.7 (2026-01-01)

- Harden asset serving and template resolution against traversal/symlink escapes by
  resolving real paths and requiring files to exist.
- Enforce domain ownership for form/template and mailer endpoints, validate
  reply-to/recipient addresses, and allow reply-to plus custom headers on
  transactional sends.
- Constrain stored template/form filenames to safe relative paths and widen the
  txmail template column to TEXT for larger templates.
- Added Vitest-based integration tests with a local SMTP harness, plus test
  scripts and dependencies.

Version 1.0.6 (2025-11-06)

- Added the dedicated asset API module so files stored under `config/<domain>/assets`
  are served directly from `/asset/<domain>/<path>` (configurable via `ASSET_ROUTE`).
- Updated `@technomoron/api-server-base` to the latest 2.x beta and aligned mailer
  server access with the new API server types.
- Tightened the template preprocessor to require non-inline assets to live in the
  domain `assets/` folder and automatically rewrite `asset('logo.png')` calls to the
  public route.
- Clarified inline usage: `asset('logo.png', true)` continues to embed a CID-backed
  attachment, while omitting the second argument keeps the file external and expects
  it under `config/<domain>/assets`.

Version 1.0.5 (2025-10-29)

- Store compiled templates and assets under domain-rooted directories inside
  `CONFIG_PATH`, removing the redundant user segment while keeping slugs and
  API behaviour unchanged.
- Update documentation and examples to reflect the domain-first configuration
  layout.

Version 1.0.4 (2025-09-27)

- Surface request metadata (client IP, IP chain, received-at) to form and transactional
  template rendering and update the bundled templates to display it.
- Correct domain lookups to match `api_domain.name` during form and mail submission
  authentication so legitimate domains are accepted.
- Export `createMailMagicServer`/`startMailMagicServer` helpers and only auto-start when
  executed directly, printing the bound host/port after.

Version 1.0.3 (2025-09-26)

- Introduced the transactional mail model and API route updates so stored templates,
  attachments, and message delivery flow through `api_txmail` instead of the
  removed `api_template`.
- Let authenticated clients upload form templates via the API, aligning filename/slug
  generation with the new singular config structure.
- Replaced the Nunjucks loader with `@technomoron/unyuck` to flatten includes
  and collect referenced assets before persisting them.
- Refreshed tooling and metadata (ESLint/Prettier configs, README, ecosystem config)
  to match the renamed package and repository.
- Added workspace metadata and sample templates so pnpm and new installs pick up example
  assets.
