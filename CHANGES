CHANGES
=======

Unreleased (2026-02-22)

- chore(repo): add `AGENTS.md` with commit disclosure, `CHANGES`, and dependency management rules for automated agents.
- chore(repo): stop ignoring `AGENTS.md` in `.gitignore` so the policy file is tracked.
- (Changes generated/assisted by Codex (profile: GPT-5/default).)

Version workspace-2026-02-19 (2026-02-19)

- chore(workspace): extract CLI code from `@technomoron/mail-magic-client` into dedicated `packages/cli` package with tests, build, and README.
- chore(workspace): add `sync:shared`, `cli`, and `test:cli` scripts and include CLI tests in root `test`.
- refactor(workspace): simplify shared template preprocess logic by removing duplicate conditionals and replacing `forEach` with `for...of`.

Version workspace-2026-02-10 (2026-02-10)

- test(workspace): harden inline asset (CID) handling with expanded coverage for inline assets, linked assets, and uploaded attachments.

Version workspace-2026-02-08 (2026-02-08)

- docs(workspace): move `packages/server/IDEAS.md` to `docs/IDEAS.md` and relocate package config examples/tutorial content under `packages/server/docs/`.
- docs(server): rewrite `packages/server/README.md` as a complete operator overview and link to Swagger/OpenAPI as authoritative API contract.
- docs(workspace): add `docs/OVERVIEW.md` with a plain-language introduction to Mail Magic concepts and features.

Version workspace-2026-02-07 (2026-02-07)

- docs(env): document optional environment knobs in `.env-dist` including `API_BASE_PATH`, `ASSET_PUBLIC_BASE`, `ADMIN_ENABLED`, and `ADMIN_APP_PATH`.
- fix(server): pass `maxAge` to Express `sendFile()` for asset caching headers.
- fix(server): mount public assets under both `/asset/...` and `/api/asset/...` when `API_BASE_PATH` is configured.
- chore(deps): upgrade `@technomoron/api-server-base` to `2.0.0-beta.18` and adjust `/api/...` custom route mounting for new API 404 behavior.

Version workspace-2026-02-02 (2026-02-02)

- chore(workspace): add pnpm-aware workspace wrapper with npm fallback so root and package builds work under either package manager.
- docs(workspace): document pnpm-first development with npm for CI/publishing and centralize pnpm build-script allowlist at workspace root.
- chore(workspace): add workspace-wide pnpm definition and type stubs for optional admin integration builds.
